{"version":3,"sources":["005-window_utils.coffee","006-weinre.coffee","010-initialize_app.coffee","011-set_globals_as_app_constants.coffee","012-app_run.coffee","google_analytics.coffee","http.coffee","ionic_config.coffee","logger.coffee","rollbar.coffee","weinre.coffee","window_injector.coffee","common/directives/node.coffee","common/factories/form_factory.coffee","common/factories/observer_factory.coffee","common/factories/promise_factory.coffee","common/prototypes/buffer_source.coffee","common/prototypes/contains.coffee","common/prototypes/has_child.coffee","common/prototypes/is_letter.coffee","common/recorder/recorder.coffee","common/services/auth.coffee","features/patches/patch_detail_ctrl.coffee","features/patches/patch_index_ctrl.coffee","features/patches/patch_service.coffee","features/synth/audio_analyser_service.coffee","features/synth/audio_context_service.coffee","features/synth/biquad_service.coffee","features/synth/gain_service.coffee","features/synth/loop_service.coffee","features/synth/node_service.coffee","features/synth/oscillator_service.coffee","features/synth/record_service.coffee","features/synth/shift_service.coffee","features/synth/state_service.coffee","features/synth/synth_ctrl.coffee","features/synth/synth_service.coffee","features/synth/time_service.coffee","features/synth/track_service.coffee","features/synth/visualizer_service.coffee","routes.coffee"],"names":[],"mappings":"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","file":"app.js","sourcesContent":["# ==> App-wide global useful functions\n# Generate a DOM element and append it to container.\n# Usage example:\n# ```coffee\n# addElement document, \"script\", id: \"facebook-jssdk\", src: \"facebook-js-sdk.js\"\n# ```\nwindow.addElement = (container, tagName, attrs = {}) ->\n  return container.getElementById(attrs.id) if attrs.id && container.getElementById(attrs.id)\n\n  fjs = container.getElementsByTagName(tagName)[0]\n  tag = container.createElement(tagName)\n  for k, v of attrs\n    tag[k] = v\n  fjs.parentNode.insertBefore tag, fjs\n  tag\n\n\n# Debug helper\nwindow.log = -> console.log arguments\n\n\n# ==> Add setObject and getObject methods to Storage prototype (used f.e. by localStorage).\nStorage::setObject = (key, value) ->\n  @setItem(key, JSON.stringify(value))\n\nStorage::getObject = (key) ->\n  return unless value = @getItem(key)\n  JSON.parse(value)\n","# To debug, go to http://localhost:31173/client/#anonymous\nif GLOBALS.WEINRE_ADDRESS && (ionic.Platform.isAndroid() || ionic.Platform.isIOS()) && !navigator.platform.match(/MacIntel/i)\n  window.addElement document, \"script\", id: \"weinre-js\", src: \"http://#{GLOBALS.WEINRE_ADDRESS}/target/target-script-min.js#anonymous\"\n","# Initialize angular's app.\n\napp = angular.module(GLOBALS.ANGULAR_APP_NAME, [\n  \"#{GLOBALS.ANGULAR_APP_NAME}.templates\"\n  \"ionic\"\n  \"angulartics.google.analytics\"\n  \"angulartics.google.analytics.cordova\"\n])\n","app = angular.module(GLOBALS.ANGULAR_APP_NAME)\n\n\n# It will equal to the root path of the directory where index.html is located.\n# f.e. \"file:///android_assets/www/\" or \"http://localhost/\"\nGLOBALS.APP_ROOT = location.href.replace(location.hash, \"\").replace(\"index.html\", \"\")\n\n\nfor k, v of GLOBALS\n  app.constant k, v\n\n\n# Make GLOBALS visible in every scope.\napp.run ($rootScope) ->\n  $rootScope.GLOBALS = GLOBALS\n","app = angular.module(GLOBALS.ANGULAR_APP_NAME)\n\n\n# Run the app only after cordova has been initialized\n# (this is why we don't include ng-app in the index.jade)\nionic.Platform.ready ->\n  console.log 'ionic.Platform is ready! Running `angular.bootstrap()`...' unless GLOBALS.ENV == \"test\"\n  angular.bootstrap document, [GLOBALS.ANGULAR_APP_NAME]\n\n\napp.run ($log, $timeout) ->\n  $log.debug \"Ionic app \\\"#{GLOBALS.ANGULAR_APP_NAME}\\\" has just started (app.run)!\" unless GLOBALS.ENV == \"test\"\n\n  # Finally, let's show the app, by hiding the splashscreen\n  # (it should be visible up until this moment)\n  $timeout ->\n    navigator.splashscreen?.hide()\n","return unless GLOBALS.CORDOVA_GOOGLE_ANALYTICS_ID\napp = angular.module(GLOBALS.ANGULAR_APP_NAME)\n\n\nionic.Platform.ready ->\n  app.config (googleAnalyticsCordovaProvider) ->\n      googleAnalyticsCordovaProvider.debug = GLOBALS.ENV != 'production'\n      googleAnalyticsCordovaProvider.trackingId = GLOBALS.CORDOVA_GOOGLE_ANALYTICS_ID\n","app = angular.module(GLOBALS.ANGULAR_APP_NAME)\n\n\napp.config ($httpProvider) ->\n  # Combine multiple $http requests into one $applyAsync (boosts performance)\n  $httpProvider.useApplyAsync(true)\n\n  # Add support for PATCH requests\n  $httpProvider.defaults.headers.patch ||= {}\n  $httpProvider.defaults.headers.patch['Content-Type'] = 'application/json'\n\n  # Send API version code in header (might be useful in future)\n  $httpProvider.defaults.headers.common[\"X-Api-Version\"] = \"1.0\"\n\n  $httpProvider.interceptors.push ($injector, $q, $log, $location) ->\n    responseError: (response) ->\n      $log.debug \"httperror: \", response.status unless GLOBALS.ENV == \"test\"\n\n      # Sign out current user if we receive a 401 status.\n      if response.status == 401\n        $injector.invoke (Auth) ->\n          Auth.setAuthToken(null, null)\n          $location.path(\"/\")\n\n      $q.reject(response)\n","app = angular.module(GLOBALS.ANGULAR_APP_NAME)\n\n\napp.config ($ionicConfigProvider) ->\n  # Customize navigation look\n  # $ionicConfigProvider.backButton.icon('ion-ios7-arrow-back')\n  # $ionicConfigProvider.backButton.text($translateProvider.instant(\"GO_BACK\"))\n  # $ionicConfigProvider.backButton.previousTitleText(false)\n  # $ionicConfigProvider.navBar.alignTitle('center')\n  # $ionicConfigProvider.navBar.positionPrimaryButtons('left')\n  # $ionicConfigProvider.navBar.positionSecondaryButtons('right')\n\n  # Change views cache limit from 10 to 4\n  $ionicConfigProvider.views.maxCache(4)\n\n  # Don't prefetch any templates - we use $templateCache for that\n  $ionicConfigProvider.templates.maxPrefetch(false)\n\n  # Turn off animations on Android and iOS 6 devices.\n  # More info: http://ionicframework.com/docs/nightly/api/provider/%24ionicConfigProvider/\n  unless ionic.Platform.grade == \"a\"\n    $ionicConfigProvider.views.transition(\"none\")\n    $ionicConfigProvider.views.maxCache(2)\n","app = angular.module(GLOBALS.ANGULAR_APP_NAME)\n\n\n# Turn off $log.debug on production\napp.config ($logProvider, $compileProvider) ->\n  if GLOBALS.ENV == \"production\"\n    $logProvider.debugEnabled(false)\n    $compileProvider.debugInfoEnabled(false)\n","return unless window.Rollbar?\napp = angular.module(GLOBALS.ANGULAR_APP_NAME)\n\n\napp.factory '$exceptionHandler', ($log) ->\n  (e, cause) ->\n    $log.error e.message\n    Rollbar.error(e)\n\n\nRollbar.configure\n  payload:\n    deploy_time: GLOBALS.DEPLOY_TIME\n    deploy_date: moment(GLOBALS.DEPLOY_TIME).format()\n    bundle_name: GLOBALS.BUNDLE_NAME\n    bundle_version: GLOBALS.BUNDLE_VERSION\n\n  transform: (payload) ->\n    if frames = payload.data?.body?.trace?.frames\n      for frame in frames\n        frame.filename = frame.filename.replace(GLOBALS.APP_ROOT, \"#{GLOBALS.ROLLBAR_SOURCEMAPS_URL_PREFIX}/\")\n\n\napp.run (Auth) ->\n  Auth.on \"user.updated\", (user) ->\n    Rollbar.configure\n      payload:\n        person: ({\n          id: user.id\n          email: user.email\n        } if user)\n\n\napp.run (onRouteChangeCallback) ->\n  onRouteChangeCallback (state) ->\n    Rollbar.configure\n      payload:\n        context: state.name\n","# To debug, go to http://localhost:31173/client/#anonymous\nif GLOBALS.WEINRE_ADDRESS && (ionic.Platform.isAndroid() || ionic.Platform.isIOS()) && !navigator.platform.match(/MacIntel/i)\n  window.addElement document, \"script\", id: \"weinre-js\", src: \"http://#{GLOBALS.WEINRE_ADDRESS}/target/target-script-min.js#anonymous\"\n","app = angular.module(GLOBALS.ANGULAR_APP_NAME)\n\n\n# Useful for debugging, like `$a(\"$rootScope\")`\napp.run ($window, $injector) ->\n  $window.$a = $injector.get\n","angular.module(\"synthesizer\").directive 'synthNode', ->\n  {\n    restrict: 'A'\n    require: '^o-key',\n    template: '<div>aksjdnakjsndkjn</div>'\n  }\n","angular.module(\"synthesizer\")\n\n.factory 'FormFactory', ($q) ->\n\n  ###\n  Basic form class that you can extend in your actual forms.\n\n  Object attributes:\n  - loading[Boolean] - is the request waiting for response?\n  - message[String] - after response, success message\n  - errors[String[]] - after response, error messages\n\n  Options:\n    - submitPromise[function] (REQUIRED) - creates a form request promise\n    - onSuccess[function] - will be called on succeded promise\n    - onFailure[function] - will be called on failed promise\n  ###\n  class FormFactory\n    constructor: (@options = {}) ->\n      @loading = false\n\n    submit: ->\n      @_handleRequestPromise @_createSubmitPromise() unless @loading\n\n    _onSuccess: (response) ->\n        @message = response.message || response.success\n        response\n\n    _onFailure: (response) ->\n      @errors = response.data?.data?.errors || response.data?.errors || [response.data?.error || response.error || response.data?.message || response.message || \"Something has failed. Try again.\"]\n      $q.reject(response)\n\n    _createSubmitPromise: ->\n      @options.submitPromise()\n\n    _handleRequestPromise: (@$promise, onSuccess, onFailure) ->\n      @loading = true\n      @submitted = false\n      @message = null\n      @errors = []\n\n      @$promise\n        .then (response) =>\n          @errors = []\n          @submitted = true\n          response\n\n        .then(_.bind @_onSuccess, @)\n        .then(onSuccess || @options.onSuccess)\n\n        .catch(_.bind @_onFailure, @)\n        .catch(onFailure || @options.onFailure)\n\n        .finally =>\n          @loading = false\n\n      @$promise\n","angular.module(\"synthesizer\")\n\n.factory 'ObserverFactory', ($rootScope) ->\n  class ObserverFactory\n    on: (eventName, listener) ->\n      @listeners ?= {}\n      @listeners[eventName] ?= []\n      @listeners[eventName].push listener\n\n    once: (eventName, listener) ->\n      listener.__once__ = true\n      @on eventName, listener\n\n    off: (eventName, listener) ->\n      return unless @listeners?[eventName]\n      return delete @listeners[eventName] if !listener\n\n      for i, v in @listeners[eventName]\n        if @listeners[eventName] == listener\n          @listeners.splice i, 1\n          break\n\n    fireEvent: (eventName, params...) ->\n      return unless @listeners?[eventName]?.length\n\n      for v in @listeners[eventName]\n        v.apply(@, params)\n        @off eventName, v if v.__once__\n\n      $rootScope.$apply() unless $rootScope.$$phase\n\n\n","angular.module(\"synthesizer\")\n\n# Wraps the value in Promise if it's not.\n# This allows you to call `Promise(varIDontKnow).then ->` whenever you can.\n.factory 'PromiseFactory', ($q) ->\n  constructor = (value, resolve = true) ->\n    if value? && typeof value?.then == 'function'\n      value\n    else\n      deferred = $q.defer()\n      if resolve\n        deferred.resolve(value)\n      else\n        deferred.reject(value)\n      deferred.promise\n\n","AudioBufferSourceNode.prototype.play = (offset)->\n  console.log @played\n  if @played != yes\n    @start 0\n    @played=yes\n  else\n    @replay()\n\nAudioBufferSourceNode.prototype.replay = ()->\n  console.log 'replay'\n  context=@context\n  newSource = context.createBufferSource()\n  newSource.buffer=@buffer\n  newSource.connect context.destination\n  newSource.start 0\n","Array.prototype.contains = (item) ->\n  @indexOf item != -1\n","window._={}\nwindow._.defined = (obj) ->\n  typeof obj != 'undefined'\n","String.prototype.isNodeKey = () ->\n  @length == 1 and @match(/[A-Za-z0-9 _]*[A-Za-z0-9][A-Za-z0-9 _]/i)\n","do (window) ->\n  WORKER_PATH = 'components/Recorderjs/recorderWorker.js'\n\n  Recorder = (source, cfg) ->\n    console.log(source)\n    config = cfg or {}\n    bufferLen = config.bufferLen or 4096\n    numChannels = config.numChannels or 2\n    @context = source.context\n    @node = (@context.createScriptProcessor or @context.createJavaScriptNode).call(@context, bufferLen, numChannels, numChannels)\n    worker = new Worker(config.workerPath or WORKER_PATH)\n    worker.postMessage\n      command: 'init'\n      config:\n        sampleRate: @context.sampleRate\n        numChannels: numChannels\n    recording = false\n    currCallback = undefined\n\n    @node.onaudioprocess = (e) ->\n      if !recording\n        return\n      buffer = []\n      channel = 0\n      while channel < numChannels\n        buffer.push e.inputBuffer.getChannelData(channel)\n        channel++\n      worker.postMessage\n        command: 'record'\n        buffer: buffer\n      return\n\n    @configure = (cfg) ->\n      for prop of cfg\n        if cfg.hasOwnProperty(prop)\n          config[prop] = cfg[prop]\n      return\n\n    @record = ->\n      recording = true\n      return\n\n    @stop = ->\n      recording = false\n      return\n\n    @clear = ->\n      worker.postMessage command: 'clear'\n      return\n\n    @getBuffer = (cb) ->\n      currCallback = cb or config.callback\n      worker.postMessage command: 'getBuffer'\n      return\n\n    @exportWAV = (cb, type) ->\n      currCallback = cb or config.callback\n      type = type or config.type or 'audio/wav'\n      if !currCallback\n        throw new Error('Callback not set')\n      worker.postMessage\n        command: 'exportWAV'\n        type: type\n      return\n    @destroy = ()->\n      worker.terminate()\n      console.log(worker)\n      delete @\n    worker.onmessage = (e) ->\n      blob = e.data\n      currCallback blob\n      return\n\n    source.connect @node\n    @node.connect @context.destination\n    #this should not be necessary\n    return\n\n  Recorder.forceDownload = (blob, filename) ->\n    url = (window.URL or window.webkitURL).createObjectURL(blob)\n    link = window.document.createElement('a')\n    link.href = url\n    link.download = filename or 'output.wav'\n    click = document.createEvent('Event')\n    click.initEvent 'click', true, true\n    link.dispatchEvent click\n    return\n\n  window.Recorder = Recorder\n  return\n\n# ---\n# generated by js2coffee 2.0.4\n","angular.module(\"synthesizer\")\n\n.service 'Auth', ($http, PromiseFactory) ->\n  USER_EMAIL_CACHE_KEY = \"user_email\"\n  USER_TOKEN_CACHE_KEY = \"user_token\"\n\n  new class Auth\n    constructor: ->\n      @setAuthToken(localStorage.getItem(USER_EMAIL_CACHE_KEY), localStorage.getItem(USER_TOKEN_CACHE_KEY))\n\n    setAuthToken: (@email = null, @token = null, user) ->\n      if @email && @token\n        $http.defaults.headers.common[\"X-User-Email\"] = @email\n        $http.defaults.headers.common[\"X-User-Token\"] = @token\n        localStorage.setItem(USER_EMAIL_CACHE_KEY, @email)\n        localStorage.setItem(USER_TOKEN_CACHE_KEY, @token)\n      else\n        delete $http.defaults.headers.common[\"X-User-Email\"]\n        delete $http.defaults.headers.common[\"X-User-Token\"]\n        localStorage.removeItem(USER_EMAIL_CACHE_KEY)\n        localStorage.removeItem(USER_TOKEN_CACHE_KEY)\n      @refreshUser(user)\n\n    refreshUser: (user = null) ->\n      @user = if user\n        user.$promise = PromiseFactory(user)\n        user.$resolved = true\n        user\n      else if @email && @token\n        # AccountResource.getProfile({email: @email})\n      else\n        null\n\n    isSignedIn: ->\n      !!@token\n\n    resetSession: ->\n      # AccountResource.signOut()\n      @setAuthToken(null, null)\n","angular.module(\"synthesizer\")\n\n# A simple controller that shows a tapped item's data\n.controller \"PatchDetailCtrl\", ($scope, $stateParams, PetService) ->\n  $scope.patch = PatchService.get($stateParams.petId)\n","angular.module(\"synthesizer\")\n\n# A simple controller that fetches a list of data from a service\n.controller \"PatchIndexCtrl\", ($scope, PatchService) ->\n  $scope.patches = PatchService.all()\n","###\nA simple example service that returns some data.\n###\nangular.module(\"synthesizer\")\n\n.factory \"PatchService\", ->\n\n  # Might use a resource here that returns a JSON array\n\n  # Some fake testing data\n  patches = [\n    {\n      id: 0\n      title: \"Cats\"\n      info: \"Cat sample patch\"\n    }\n    {\n      id: 1\n      title: \"Dogs\"\n      info: \"Real Doggy barks\"\n    }\n    {\n      id: 2\n      title: \"Turtles\"\n      info: \"Turtle sound patch\"\n    }\n    {\n      id: 3\n      title: \"Sharks\"\n      info: \"Cat sample patch\"\n    }\n  ]\n  all: ->\n    patches\n\n  get: (patchId) ->\n\n    # Simple index lookup\n    patches[patchId]\n","###\nA simple example service that returns some data.\n###\nangular.module(\"synthesizer\")\n\n.factory \"AudioAnalyserService\", ($window,AudioContextService)->\n\n  context = AudioContextService.getContext()\n  analyser = context.createAnalyser()\n  analyser.fftSize = 2048\n  visualizer = ''\n  canvas = document.getElementById('visualizer')\n  WIDTH=canvas.clientWidth\n  HEIGHT=canvas.clientHeight\n  painter = canvas.getContext(\"2d\")\n  initialized= no\n  $window.drawOscilliscope=()->\n    visualizer = requestAnimationFrame(drawOscilliscope)\n    bufferLength = analyser.frequencyBinCount\n\n    timeBuffer = new Uint8Array(bufferLength)\n    analyser.getByteTimeDomainData(timeBuffer)\n    painter.fillStyle = 'rgb(255, 255, 255)'\n    painter.fillRect 0, 0, WIDTH, HEIGHT\n    painter.lineWidth = 1\n    painter.strokeStyle = 'rgb(100, 100, 255)'\n    painter.beginPath()\n    sliceWidth = WIDTH * 1.0 / bufferLength\n    x = 0\n    i = 0\n    painter.moveTo 0, painter.height/2\n    while i < bufferLength\n      y = timeBuffer[i]/2\n      if i == 0\n        painter.moveTo x, y\n      else\n        painter.lineTo x, y\n      x += sliceWidth\n      i++\n\n    painter.lineTo painter.width, painter.height\n    painter.stroke()\n  getAnalyser: () ->\n    if not @initialized\n      @initialize()\n    return analyser\n  initialize:()->\n\n    @initialized = yes\n    $window.drawOscilliscope()\n","###\nA simple example service that returns some data.\n###\nangular.module(\"synthesizer\")\n\n.factory \"AudioContextService\", ($window)->\n  nodes={}\n  context = new ($window.AudioContext || $window.webkitAudioContext)()\n\n  getContext: () ->\n    return context\n","###\nA simple example service that returns some data.\n###\nangular.module(\"synthesizer\")\n\n.factory \"BiquadService\", (AudioContextService)->\n\n  context = AudioContextService.getContext()\n  filter = context.createBiquadFilter()\n  filter.type = \"highshelf\"\n  filter.frequency.value = 0\n  filter.gain.value = 0\n  getFilter: () ->\n    return filter\n  setCutoff: (cutoff) ->\n    filter.frequency.value = cutoff\n  getCutoff: () ->\n    filter.frequency.value\n  setGain: (gain) ->\n    filter.gain.value = gain\n","###\nA simple example service that returns some data.\n###\nangular.module(\"synthesizer\")\n\n.factory \"GainService\", (AudioContextService)->\n  context=AudioContextService.getContext()\n  control=context.createGain()\n  currentVolume=1\n  gainNodes={'output':context.createGain(),'input':context.createGain()}\n  setVolume:(vol,destination) ->\n    console.log(vol,destination)\n    if not _.defined destination\n      destination = 'output'\n    currentVolume=vol\n    gainNodes[destination].gain.value=vol\n  getGain:(destination)->\n    if not _.defined destination\n      destination = 'output'\n    gainNodes[destination]\n  mute: (destination) ->\n    if not _.defined destination\n      destination = 'output'\n    control.gain.value = 0\n  unMute: (destination) ->\n    if not _.defined destination\n      destination = 'output'\n    gainNodes[destination].gain.value = currentVolume\n  max: (destination) ->\n    if not _.defined destination\n      destination = 'output'\n    @setVolume(1,destination)\n","###\nA simple example service that returns some data.\n###\nangular.module(\"synthesizer\")\n\n.factory \"LoopService\", ()->\n  nodes={}\n  class Node\n    constructor: (@key) ->\n    silence: (velocity) ->\n      console.log(velocity)\n    activate: (velocity) ->\n      console.log(velocity)\n  all: ->\n    []\n\n  nodeForKey: (nodeKey) ->\n    return new Node(nodeKey)\n  silence: (nodeKey) ->\n    node[patchId].silence()\n","###\nA simple example service that returns some data.\n###\nangular.module(\"synthesizer\")\n\n.factory \"NodeService\", (\n  OscillatorService,\n  TimeService,\n  RecordService,\n  TrackService,\n  ShiftService,\n  StateService,\n  AudioAnalyserService,\n  LoopService) ->\n\n  class Node\n\n    constructor: (@key) ->\n      @active=no\n    silence: (velocity) ->\n      @active=no\n    sustain: (velocity) ->\n      @velocity+=1\n    activate: (velocity) ->\n      if @active\n        @sustain(velocity)\n      else\n        @active=yes\n\n  class IvoryNode extends Node\n\n    constructor:(@key,@frequency) ->\n      super(@key)\n\n    activate:(velocity)->\n\n      if !@active\n        OscillatorService.nodeOn @\n      super(velocity)\n\n    silence:(velocity)->\n      OscillatorService.nodeOff @\n      super()\n\n  class ShiftNode extends Node\n\n    constructor:() ->\n      super('shift')\n\n    activate:(velocity)->\n      if !@active\n        ShiftService.shift()\n      super(velocity)\n\n    silence:(velocity)->\n      ShiftService.unShift()\n      super()\n\n  class RecordNode extends Node\n\n    constructor:(@key) ->\n      super(@key)\n\n    activate:(velocity)->\n      if !@active\n        RecordService.toggleRecording (buffer)->\n          TrackService.addTrack buffer\n      super(velocity)\n\n    silence:(velocity)->\n      super()\n  class StateToggleNode extends Node\n\n    constructor:(@key,@state) ->\n      super(@key)\n\n    activate:(velocity)->\n      if !@active\n        StateService.toggleState (@state)\n      super(velocity)\n\n    silence:(velocity)->\n      super()\n\n  class SampleNode extends Node\n\n    constructor:(@key) ->\n      super(@key)\n\n    activate:(velocity)->\n      if ShiftService.isShifted() and !@active\n        console.log('start sample')\n        RecordService.startRecording()\n      else if !@active\n        console.log 'playSample'\n        console.log @stream\n        if _.defined @stream\n          @stream.play 0\n      super(velocity)\n\n\n    silence:(velocity)->\n      if ShiftService.isShifted()\n        node=@\n        console.log('stop sample')\n        RecordService.stopRecording (buffer)->\n          node.stream=TrackService.audioStreamFromBuffer buffer\n          node.stream.connect AudioAnalyserService.getAnalyser()\n      super()\n\n\n  ivory_keys=\"abcdefghijklmnopqrstuvwxyz1234567890\"\n  control_keys = \",./;[]`-='← → ↑ ↓\"\n  record_key = \" \"\n  nodes={}\n  initializeNodes : () ->\n    for state in StateService.all()\n      nodes[state]={}\n    defaultState=StateService.getDefaultState()\n    for key in ivory_keys.toUpperCase().split('')\n      nodes[defaultState][key] = new IvoryNode(\n        key,\n        OscillatorService.frequencyForKey key\n      )\n      nodes['sampler'][key] = new SampleNode(\n        key\n      )\n\n    nodes[defaultState][record_key]=new RecordNode(record_key)\n    nodes[defaultState]['shift']= new ShiftNode()\n    nodes[defaultState]['command']= new StateToggleNode('command','sampler')\n    nodes\n\n  activate:(key)->\n    @nodeForKey(key).activate()\n  silence:(key) ->\n    @nodeForKey(key).silence()\n  nodeForKey: (key)->\n    node= nodes[StateService.getState()][key]\n    if !_.defined node\n      node = nodes[StateService.getDefaultState()][key]\n    node\n  getfirstActiveNodeKey:()->\n    for node in nodes\n      if node.active\n        return node\n","###\nA simple example service that returns some data.\n###\nangular.module(\"synthesizer\")\n\n.factory \"OscillatorService\", (AudioContextService,AudioAnalyserService)->\n  audioContext=AudioContextService.getContext()\n  oscillators=[]\n  initializeOscillators:()->\n    addOscillator = (type)->\n      osc=audioContext.createOscillator()\n      osc.type='sine'\n      osc.frequency.value = 0\n      osc.start()\n      oscillators.push osc\n    addOscillator('sin')\n    addOscillator('sin')\n    addOscillator('sin')\n    addOscillator('sin')\n    addOscillator('sin')\n    addOscillator('sin')\n    return oscillators\n  fetchOscillator:(node)->\n    for osc in oscillators\n      if _.defined osc.originNode\n        if osc.originNode.key == node.key && node.active\n          return osc\n      else if not node.active\n        return osc\n  nodeOn: (node)->\n    osc=@fetchOscillator(node)\n    osc.originNode=node\n    osc.frequency.value=node.frequency\n  nodeOff: (node)->\n    osc=@fetchOscillator(node)\n    osc.frequency.value=0\n    delete osc.originNode\n  frequencyForKey: (key)->\n    root=256\n    ratioDictionary=\n      Z: 1 #c\n      X: 9/8 #d\n      C: 5/4 #e\n      V: 10/9 #f\n      B: 9/8\n      N: 32/27\n      M: 6/5\n      A: 4/3\n      S: 3/2\n      D: 5/3\n      F: 27/20\n      G: 45/32\n      H: 729/512\n      J: 3/2\n      K: 128/81\n      L: 8/5\n      Q: 16/9 #Bb\n      W: 2\n      E: 10/4\n      R: 9/5\n      T: 15/8\n      Y: 243/128\n      U: 2\n      I: 20/9\n      O: 42/7\n      P: 42/7\n      1: 42/7\n      2: 42/7\n      3: 42/7\n      4: 42/7\n      5: 42/7\n      6: 42/7\n      7: 42/7\n      8: 42/7\n      9: 42/7\n      0: 42/7\n    return root*ratioDictionary[key]\n","###\nA simple example service that returns some data.\n###\nangular.module(\"synthesizer\")\n\n.factory \"RecordService\",($rootScope,AudioContextService,\n  AudioAnalyserService,GainService,TrackService) ->\n  context=AudioContextService.getContext()\n  source = 'output'\n  analyser = AudioAnalyserService.getAnalyser()\n  sourceStream = GainService.getGain()\n  inputGain = GainService.getGain('input')\n  localStream = null\n  recorder = new Recorder(sourceStream)\n  recording = false\n  userMediaStream = null\n  service=@\n  navigator.getUserMedia = navigator.getUserMedia or\n    navigator.webkitGetUserMedia or\n    navigator.mozGetUserMedia or\n    navigator.msGetUserMedia\n\n  $rootScope.$on 'stateChanged', ($scope,state)->\n    self=service.$get()\n    if state == 'sampler'\n      self.setSource('input')\n    else\n      self.setSource('output')\n  getLocalSource:()-> #convert this ot a promise\n    if navigator.getUserMedia\n      navigator.getUserMedia { audio: true }, ((stream) ->\n        sourceStream = context.createMediaStreamSource(stream)\n        gain=GainService.getGain('input')\n        sourceStream.connect gain\n        gain.connect analyser\n        recorder.destroy()\n        recorder = new Recorder(gain)\n        return\n      ), (err) ->\n        return\n\n  setSource:(src)->\n    source=src\n    if src  == 'output'\n      recorder.destroy()\n      sourceStream = GainService.getGain()\n      recorder = new Recorder(sourceStream)\n    if src  == 'input'\n      @getLocalSource()\n\n\n  getSource:()->\n    source\n  getRecorder:()->\n    recorder\n  isRecording:()->\n    recording\n  startRecording: () ->\n    recording = yes\n    recorder.record()\n\n  stopRecording: (callback) ->\n    recording= no\n    recorder.stop()\n    recorder.getBuffer (buffer) ->\n      callback(buffer)\n      recorder.clear()\n  toggleRecording: (callback) ->\n    if @isRecording()\n      @stopRecording(callback)\n    else\n      @startRecording()\n","###\nA simple example service that returns some data.\n###\nangular.module(\"synthesizer\")\n\n.factory \"ShiftService\",(StateService,GainService,RecordService) ->\n  shifted = false\n  isShifted:() ->\n    shifted\n  shift: () ->\n    GainService.mute()\n    shifted= yes\n  unShift: () ->\n    GainService.unMute()\n    shifted= no\n\n  toggleShift: (o) ->\n    if shifted\n      unShift()\n    else\n      shift()\n","###\nA simple example service that returns some data.\n###\nangular.module(\"synthesizer\")\n\n.factory \"StateService\",($rootScope) ->\n  defaultState = 'keys'\n  state = defaultState\n  states =['keys','sampler','sequencer','editor']\n  stateHistory=[]\n  toggleState:(requestedState) ->\n    console.trace()\n    console.log 'toggle' + requestedState\n    if state==requestedState\n      @setState stateHistory.pop()\n    else\n      stateHistory.push(state)\n      @setState requestedState\n  getState:()->\n    state\n  getDefaultState:()->\n    defaultState\n  all:()->\n    states\n  setState:(newState)->\n    console.log newState\n    $rootScope.$broadcast 'stateChanged', newState\n    state=newState\n","angular.module(\"synthesizer\")\n\n# A simple controller that shows a tapped item's data\n.controller \"SynthCtrl\", ($scope,$stateParams\n    ,AudioContextService,AudioAnalyserService,SynthService,BiquadService,\n    RecordService,StateService,TrackService,NodeService,GainService) ->\n\n  SynthService.initialize()\n  $scope.context=AudioContextService.getContext()\n  $scope.recording= RecordService.isRecording\n  $scope.nodes=SynthService.nodes\n  $scope.tracks=TrackService.getTracks()\n  $scope.getState=StateService.getState\n  $scope.activateNode= (key)->\n    NodeService.activate(key)\n  $scope.silenceNode = (key)->\n    NodeService.silence(key)\n\n  $scope.updateCutoff = (val)->\n    BiquadService.setCutoff(val*100)\n  $scope.updateGain = (vol,destination)->\n    GainService.setVolume vol,destination\n  findNodeKey=(e)->\n    e = e or window.event\n    charCode = if typeof e.which == 'number' then e.which else e.keyCode\n    switch\n      when charCode == 91 then 'command'\n      when charCode == 16 then 'shift'\n      when charCode == 17 then 'control'\n      when charCode == 18 then 'option'\n      when charCode == 37 then '←'\n      when charCode == 38 then '↑'\n      when charCode == 39 then '→'\n      when charCode == 40 then '↓'\n\n      else String.fromCharCode(charCode).toUpperCase()\n  $scope.toggleSamplerMode = ()->\n    StateService.toggleState('sampler')\n  $scope.toggleRecording = ()->\n    $scope.recording=!$scope.recording\n    if $scope.recording\n      RecordService.startRecording()\n    else\n      RecordService.stopRecording (buffer)->\n        TrackService.addTrack buffer\n\n  document.onkeydown = (e) ->\n    nodeKey=findNodeKey(e)\n    $scope.activateNode(nodeKey)\n    return\n  document.onkeyup = (e) ->\n    nodeKey=findNodeKey(e)\n    $scope.silenceNode(nodeKey)\n    return\n","###\nA simple example service that returns some data.\n###\nangular.module(\"synthesizer\")\n\n.factory \"SynthService\",(NodeService, OscillatorService, RecordService,\n                BiquadService,AudioAnalyserService,GainService,\n                AudioContextService) ->\n  nodes = NodeService.initializeNodes()\n\n  context = AudioContextService.getContext()\n  oscillators = OscillatorService.initializeOscillators()\n  analyser = AudioAnalyserService.getAnalyser()\n  filter = BiquadService.getFilter()\n  gain = GainService.getGain()\n\n  initialize:() ->\n    for osc in oscillators\n      osc.connect filter\n    filter.connect analyser\n    analyser.connect gain\n    gain.connect context.destination\n","###\nA simple example service that returns some data.\n###\nangular.module(\"synthesizer\")\n\n.factory \"TimeService\", (TrackService)->\n\n  slow: (track,speed) ->\n\n    TrackService.get(track)\n    console.log('slow down'+track+' by '+ speed)\n  silence: (nodeKey) ->\n    node[patchId].silence()\n","###\nA simple example service that returns some data.\n###\nangular.module(\"synthesizer\")\n\n.factory \"TrackService\", ($rootScope,AudioContextService,AudioAnalyserService)->\n  tracks=[]\n  context = AudioContextService.getContext()\n\n  audioStreamFromBuffer:(buffers)->\n    newSource = context.createBufferSource()\n    newBuffer = context.createBuffer 2, buffers[0].length, context.sampleRate\n    newBuffer.getChannelData(0).set buffers[0]\n    newBuffer.getChannelData(1).set buffers[1]\n    newSource.buffer = newBuffer\n    newSource\n  addTrack:(buffers)->\n    newSource = @audioStreamFromBuffer(buffers)\n    newSource.connect AudioAnalyserService.getAnalyser()\n    test=newSource.start 0\n    newSource.loop = yes\n    newSource.loopStart=0\n    tracks.push newSource\n  getTracks:()->\n    tracks\n  get: (index) ->\n    if typeof tracks[index] != 'undefined'\n      return new Track(nodeKey)\n    else\n      console.log('no track')\n  all: () ->\n    tracks\n","###\nA simple example service that returns some data.\n###\nangular.module(\"synthesizer\")\n\n.factory \"AudioVisualizerService\",(AudioAnalyserService,$window) ->\n  canvas = $window.document.querySelector('.oscilloscope')\n  analyser = AudioAnalyserService.getanalyser()\n  canvasCtx = canvas.getContext('2d')\n  drawFrame = () ->\n    WIDTH=$window.getClientWidth()\n    HEIGHT=200\n    drawVisual = requestAnimationFrame(draw)\n    analyser.getByteTimeDomainData dataArray\n    canvasCtx.fillStyle = 'rgb(200, 200, 200)'\n    canvasCtx.fillRect 0, 0, WIDTH, HEIGHT\n    canvasCtx.lineWidth = 2\n    canvasCtx.strokeStyle = 'rgb(0, 0, 0)'\n    canvasCtx.beginPath()\n    sliceWidth = WIDTH * 1.0 / bufferLength\n    x = 0\n    i = 0\n    while i < bufferLength\n      v = dataArray[i] / 128.0\n      y = v * HEIGHT / 2\n      if i == 0\n        canvasCtx.moveTo x, y\n      else\n        canvasCtx.lineTo x, y\n      x += sliceWidth\n      i++\n    canvasCtx.lineTo canvas.width, canvas.height / 2\n    canvasCtx.stroke()\n    draw()\n\n    # ---\n    # generated by js2coffee 2.0.4\n","angular.module(\"synthesizer\")\n\n.config ($stateProvider, $urlRouterProvider) ->\n\n  # Ionic uses AngularUI Router which uses the concept of states\n  # Learn more here: https://github.com/angular-ui/ui-router\n  # Set up the various states which the app can be in.\n\n  # the pet tab has its own child nav-view and history\n  $stateProvider\n\n  .state \"app\",\n    url: \"/app\"\n    abstract: true\n    templateUrl: \"templates/app.html\"\n\n  .state \"app.patches\",\n    url: \"/patches\"\n    views:\n      \"main-content\":\n        templateUrl: \"templates/patch-index.html\"\n        controller: \"PatchIndexCtrl\"\n\n  .state \"app.patch-detail\",\n    url: \"/patch/:patchId\"\n    views:\n      \"main-content\":\n        templateUrl: \"templates/patch-detail.html\"\n        controller: \"PatchDetailCtrl\"\n\n  .state \"app.synth\",\n    url: \"/synth\"\n    views:\n      \"main-content\":\n        templateUrl: \"templates/synth.html\"\n        controller: \"SynthCtrl\"\n\n  .state \"app.info\",\n    url: \"/info\"\n    views:\n      \"main-content\":\n        templateUrl: \"templates/info.html\"\n\n\n  # if none of the above states are matched, use this as the fallback\n  $urlRouterProvider.otherwise \"/app/info\"\n"],"sourceRoot":"/source/"}